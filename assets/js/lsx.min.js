var lsx=Object.create(null);!function(e,o,n,t){"use strict";var a=e(n),s=e(o),r=o.innerHeight||n.documentElement.clientHeight||n.body.clientHeight,i=o.innerWidth||n.documentElement.clientWidth||n.body.clientWidth;lsx.add_class_sidebar_to_body=function(){e("#secondary").length>0&&e("body").addClass("has-sidebar")},lsx.add_class_bootstrap_to_table=function(){var o=e("table#wp-calendar");o.length>0&&o.addClass("table")},lsx.fix_bootstrap_menus_touchstart=function(){e(".dropdown-menu").on("touchstart.dropdown.data-api",function(e){e.stopPropagation()})},lsx.fix_bootstrap_menus_dropdown=function(){i>1199&&e(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){e(this).removeClass("dropdown-toggle"),e(this).removeAttr("data-toggle")}),e(".dropdown").on("show.bs.dropdown",function(o){console.warn("show.bs.dropdown",this),i<1200&&(e(this).parents(".menu-item.open").length&&o.stopPropagation(),e(this).siblings(".open").removeClass("open").find("a.dropdown-toggle").attr("data-toggle","dropdown"),e(this).find("a.dropdown-toggle").removeAttr("data-toggle"))}),s.resize(function(){i>1199?e(".navbar-nav li.dropdown a").each(function(){e(this).removeClass("dropdown-toggle"),e(this).removeAttr("data-toggle")}):e(".navbar-nav li.dropdown a").each(function(){e(this).addClass("dropdown-toggle"),e(this).attr("data-toggle","dropdown")})})},lsx.fix_bootstrap_menus_dropdown_grandchild_items=function(){i>1199?e(".navbar-nav > .menu-item:last-child").each(function(){if(e(this).hasClass("menu-item-has-children")){var o,n,t=e(this),a=t.children(".dropdown-menu"),s=a.children(".menu-item-has-children");o=a.outerWidth(),n=i-(t.offset().left+t.outerWidth()),n<o&&(a.addClass("pull-right"),s.addClass("dropdown-menu-left"))}}):(e(".dropdown > .dropdown-menu > .dropdown > a").on("click",function(o){var n=e(this),t=n.parent().parent();n.hasClass("open")||(t.find(".open").removeClass("open").next(".dropdown-menu").dropdown("toggle"),n.addClass("open"),n.next(".dropdown-menu").dropdown("toggle"),o.stopPropagation(),o.preventDefault())}),e(".dropdown > .dropdown-menu > .dropdown > .dropdown-menu a").on("click",function(){o.location.href=this.href}))},lsx.fix_lazyload_envira_gallery=function(){e(".lazyload, .lazyloaded").length>0&&"object"==typeof envira_isotopes&&s.scroll(function(){e(".envira-gallery-wrap").each(function(){var o=e(this).attr("id");o=o.replace("envira-gallery-wrap-",""),"object"==typeof envira_isotopes[o]&&envira_isotopes[o].enviratope("layout")})})},lsx.set_main_menu_as_fixed=function(){e("body").hasClass("top-menu-fixed")&&e("header.navbar").scrollToFixed({marginTop:function(){var o=e("#wpadminbar");return o.length>0?o.outerHeight():0},minWidth:768,preFixed:function(){e(this).addClass("scrolled")},preUnfixed:function(){e(this).removeClass("scrolled")}})},lsx.set_banner_effect_parallax=function(){var o,n,t,a=0,d=0,l=function(){if(s.scrollTop()<=r){var e=s.scrollTop()/r*100,o=4*e,i=3*e-130,l=-130-3*e,c=d+o;n.css("top",i+"px"),n.css("bottom",l+"px"),c<a&&t.css("padding-top",o+"px")}};i>991&&(o=e(".page-banner:not(.gmap-banner)"),o.length>0&&(n=o.children(".page-banner-image"),t=o.children(".container"),t.length>0&&(a=o.height(),d=t.height()+parseInt(t.css("margin-top").replace("px",""))+parseInt(t.css("margin-bottom").replace("px",""))+parseInt(t.css("padding-bottom").replace("px","")),l(),s.resize(function(){a=o.height(),d=t.height()+parseInt(t.css("margin-top").replace("px",""))+parseInt(t.css("margin-bottom").replace("px",""))+parseInt(t.css("padding-bottom").replace("px",""))}),s.scroll(function(){l()}))))},lsx.set_search_form_effect_mobile=function(){a.on("click","header.navbar #searchform button.search-submit",function(o){if(i<1200){o.preventDefault();var n=e(this).closest("form");n.hasClass("hover")?n.submit():(n.addClass("hover"),n.find(".search-field").focus())}}),a.on("blur","header.navbar #searchform .search-field",function(o){if(i<1200){e(this).closest("form").removeClass("hover")}})},lsx.set_comments_anchor_effect=function(){var o;"#comments"==n.location.hash&&(o=e("body").hasClass("top-menu-fixed")?e("header.navbar").height():0,o+=e("body").hasClass("admin-bar")?e("#wpadminbar").height():0,e("html, body").animate({scrollTop:e(".comments-link").offset().top-o},500,function(){e(".comments-link").trigger("click")})),new RegExp("#comment-","gi").test(n.location.hash)&&(o=e("body").hasClass("top-menu-fixed")?e("header.navbar").height():0,o+=e("body").hasClass("admin-bar")?e("#wpadminbar").height():0,e("html, body").animate({scrollTop:e(".comments-link").offset().top-o},500,function(){e(".comments-link").trigger("click"),e("html, body").animate({scrollTop:e(n.location.hash).offset().top-o},500)}))},s.resize(function(){r=o.innerHeight||n.documentElement.clientHeight||n.body.clientHeight,i=o.innerWidth||n.documentElement.clientWidth||n.body.clientWidth}),a.ready(function(){lsx.fix_bootstrap_menus_touchstart(),lsx.add_class_sidebar_to_body(),lsx.add_class_bootstrap_to_table(),lsx.set_main_menu_as_fixed()}),s.load(function(){lsx.fix_bootstrap_menus_dropdown(),lsx.fix_bootstrap_menus_dropdown_grandchild_items(),lsx.fix_lazyload_envira_gallery(),lsx.set_search_form_effect_mobile(),lsx.set_banner_effect_parallax(),lsx.set_comments_anchor_effect(),e("body.preloader-content-enable").addClass("html-loaded")})}(jQuery,window,document);