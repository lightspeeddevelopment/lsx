var lsx=Object.create(null);!function($,e,o,t){"use strict";var n=$(o),s=$(e),a=e.innerHeight||o.documentElement.clientHeight||o.body.clientHeight,r=e.innerWidth||o.documentElement.clientWidth||o.body.clientWidth;lsx.add_class_browser_to_html=function(){if("undefined"!=typeof platform){var e=platform.name.toLowerCase(),o=platform.version.toLowerCase().replace(/\..*$/g,"");$("html").addClass(e).addClass(o)}},lsx.add_class_sidebar_to_body=function(){$("#secondary").length>0&&$("body").addClass("has-sidebar")},lsx.add_class_bootstrap_to_table=function(){var e=$("table#wp-calendar");e.length>0&&e.addClass("table")},lsx.navbar_toggle_handler=function(){$(".navbar-toggle").parent().on("click",function(){$(this).toggleClass("open")})},lsx.fix_bootstrap_menus_dropdown=function(){$(".navbar-nav .dropdown, #top-menu .dropdown").on("show.bs.dropdown",function(){r<1200&&($(this).siblings(".open").removeClass("open").find("a.dropdown-toggle").attr("data-toggle","dropdown"),$(this).find("a.dropdown-toggle").removeAttr("data-toggle"))}),r>1199&&$(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){$(this).removeClass("dropdown-toggle"),$(this).removeAttr("data-toggle")}),s.resize(function(){r>1199?$(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){$(this).removeClass("dropdown-toggle"),$(this).removeAttr("data-toggle")}):$(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){$(this).addClass("dropdown-toggle"),$(this).attr("data-toggle","dropdown")})})},lsx.fix_bootstrap_menus_dropdown_click=function(){r<1200&&($(".navbar-nav .dropdown .dropdown > a, #top-menu .dropdown .dropdown > a").on("click",function(e){$(this).parent().hasClass("open")||($(this).parent().addClass("open"),$(this).next(".dropdown-menu").dropdown("toggle"),e.stopPropagation(),e.preventDefault())}),$(".navbar-nav .dropdown .dropdown .dropdown-menu a, #top-menu .dropdown .dropdown > a").on("click",function(e){o.location.href=this.href}))},lsx.fix_lazyload_envira_gallery=function(){$(".lazyload, .lazyloaded").length>0&&"object"==typeof envira_isotopes&&s.scroll(function(){$(".envira-gallery-wrap").each(function(){var e=$(this).attr("id");e=e.replace("envira-gallery-wrap-",""),"object"==typeof envira_isotopes[e]&&envira_isotopes[e].enviratope("layout")})})},lsx.set_main_menu_as_fixed=function(){r>1199&&$("body").hasClass("top-menu-fixed")&&$("header.navbar").scrollToFixed({marginTop:function(){var e=$("#wpadminbar");return e.length>0?e.outerHeight():0},minWidth:768,preFixed:function(){$(this).addClass("scrolled")},preUnfixed:function(){$(this).removeClass("scrolled")}})},lsx.set_banner_effect_parallax=function(){var e,o,t,n=-40,a=function(){if(s.scrollTop()<=t){var e=s.scrollTop()/t*100,n=-40+e,a=-40-e;o.css({top:n+"px",bottom:a+"px"})}};r>1199&&(e=$(".page-banner:not(.gmap-banner)"),e.length>0&&(t=e.height()+e.offset().top,o=e.children(".page-banner-image"),o.length>0&&(a(),s.scroll(function(){a()}))))},lsx.set_search_form_effect_mobile=function(){n.on("click","header.navbar #searchform button.search-submit",function(e){if(r<1200){e.preventDefault();var o=$(this).closest("form");o.hasClass("hover")?o.submit():(o.addClass("hover"),o.find(".search-field").focus())}}),n.on("blur","header.navbar #searchform .search-field",function(e){if(r<1200){$(this).closest("form").removeClass("hover")}})},lsx.search_form_prevent_empty_submissions=function(){n.on("submit","#searchform",function(e){""===$(this).find('input[name="s"]').val()&&e.preventDefault()}),n.on("blur","header.navbar #searchform .search-field",function(e){if(r<1200){$(this).closest("form").removeClass("hover")}})},lsx.build_slider_lightbox=function(){$("body:not(.single-tour-operator) .gallery").slickLightbox({caption:function(e,o){return $(e).find("img").attr("alt")}})},lsx.init_wc_slider=function(){$(".lsx-woocommerce-slider").each(function(e,o){var t=$(this),n=4,s=4,a=3,r=3,l=1,i=1;t.find(".lsx-woocommerce-review-slot").length>0&&(n=2,s=2,a=2,r=2),t.closest("#secondary").length>0&&(n=1,s=1,a=1,r=1),t.on("init",function(e,o){o.options.arrows&&o.slideCount>o.options.slidesToShow&&t.addClass("slick-has-arrows")}),t.on("setPosition",function(e,o){o.options.arrows?o.slideCount>o.options.slidesToShow&&t.addClass("slick-has-arrows"):t.removeClass("slick-has-arrows")}),t.slick({draggable:!1,infinite:!0,swipe:!1,cssEase:"ease-out",dots:!0,slidesToShow:n,slidesToScroll:s,responsive:[{breakpoint:992,settings:{slidesToShow:a,slidesToScroll:r,draggable:!0,arrows:!1,swipe:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,draggable:!0,arrows:!1,swipe:!0}}]})}),$('a[href="#tab-bundled_products"]').length>0&&n.on("click",'a[href="#tab-bundled_products"]',function(e){$("#tab-bundled_products .lsx-woocommerce-slider").slick("setPosition")})},lsx.replace_wc_classnames=function(){$(".wc-tabs").removeClass("wc-tabs").addClass("nav-tabs"),$(".tabs").removeClass("tabs").addClass("nav wc-tabs")},lsx.remove_gallery_img_width_height=function(){$(".gallery-size-full img").each(function(){var e=$(this);e.removeAttr("height"),e.removeAttr("width")})},lsx.do_scroll=function(e){var o=e.href.replace(/^[^#]*(#.+$)/gi,"$1"),t=$(o),n=parseInt(t.offset().top),s=-100;$("html, body").animate({scrollTop:n+-100},800)},lsx.fix_wc_elements=function(e){$(".woocommerce-MyAccount-content .api-manager-changelog, .woocommerce-MyAccount-content .api-manager-download").each(function(){var e=$(this);e.children("br:first-child").remove(),e.children("hr:first-child").remove(),e.children("hr:last-child").remove(),e.children("br:last-child").remove()}),$(".woocommerce-form__label-for-checkbox.checkbox").removeClass("checkbox"),$(o.body).on("updated_checkout",function(){$(".woocommerce-form__label-for-checkbox.checkbox").removeClass("checkbox")})},lsx.fix_caldera_form_modal_title=function(){$("[data-remodal-id]").each(function(){var e=$(this),o=$('[data-remodal-target="'+e.attr("id")+'"]'),t=o.text();e.find('[role="field"]').first().before("<div><h4>"+t+"</h4></div>")})},lsx.wc_footer_bar_toggle_handler=function(){$(".lsx-wc-footer-bar-link-toogle").on("click",function(e){e.preventDefault(),$(".lsx-wc-footer-bar-form").slideToggle(),$(".lsx-wc-footer-bar").toggleClass("lsx-wc-footer-bar-search-on")})},lsx.wc_fix_messages_visual=function(){$(".woocommerce-message,.woocommerce-info,.woocommerce-error,.woocommerce-noreviews,.woocommerce_message,.woocommerce_info,.woocommerce_error,.woocommerce_noreviews,p.no-comments,.stock,.woocommerce-password-strength").each(function(){var e=$(this);0!==e.find(".button").length&&(e.wrapInner('<div class="lsx-woocommerce-message-text"></div>'),e.addClass("lsx-woocommerce-message-wrap"),e.find(".button").appendTo(e))})},lsx.wc_fix_subscribe_to_replies_checkbox=function(){$('input[name="subscribe_to_replies"]').removeClass("form-control")},lsx.wc_add_quick_view_close_button=function(){$("body").on("quick-view-displayed",function(e){0===$(".pp_content_container").children(".close").length&&$(".pp_content_container").prepend('<button type="button" class="close">&times;</button>')}),n.on("click",".pp_content_container .close",function(e){$.prettyPhoto.close()})},lsx.wc_fix_subscriptions_empty_message=function(){""===$(".first-payment-date").text()&&$(".first-payment-date").remove()},s.resize(function(){a=e.innerHeight||o.documentElement.clientHeight||o.body.clientHeight,r=e.innerWidth||o.documentElement.clientWidth||o.body.clientWidth}),n.ready(function(){lsx.navbar_toggle_handler(),lsx.add_class_browser_to_html(),lsx.add_class_sidebar_to_body(),lsx.add_class_bootstrap_to_table(),lsx.set_main_menu_as_fixed(),lsx.search_form_prevent_empty_submissions(),lsx.remove_gallery_img_width_height(),lsx.replace_wc_classnames(),lsx.init_wc_slider(),lsx.fix_wc_elements(),lsx.fix_caldera_form_modal_title(),lsx.wc_footer_bar_toggle_handler(),lsx.wc_fix_messages_visual(),lsx.wc_fix_subscribe_to_replies_checkbox(),lsx.wc_add_quick_view_close_button(),lsx.wc_fix_subscriptions_empty_message()}),s.load(function(){lsx.fix_bootstrap_menus_dropdown(),lsx.fix_bootstrap_menus_dropdown_click(),lsx.fix_lazyload_envira_gallery(),lsx.set_search_form_effect_mobile(),lsx.build_slider_lightbox(),lsx.set_banner_effect_parallax(),$("body.preloader-content-enable").addClass("html-loaded")})}(jQuery,window,document);